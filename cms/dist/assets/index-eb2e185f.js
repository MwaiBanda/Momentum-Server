import{r,j as e,R as ke}from"./react-6a422704.js";import{c as Re}from"./react-dom-81c1590d.js";import{Q as $e,u as _,a as q,b as Te,d as Fe}from"./react-query-5a384075.js";import{c as Le}from"./react-router-dom-8a25b6f8.js";import{M,L as R,T as D,B as E,F,N as k,a as J,b as se,c as Ee,C as ae,R as H}from"./flowbite-react-174c5931.js";import{j as Ie}from"./react-icons-28f82d07.js";import"./react-indiana-drag-scroll-d13610c9.js";import"./firebase-b410af42.js";import{i as Ae,g as Pe,a as De,s as Oe}from"./@firebase-1490c394.js";import{u as ze,a as Ue,R as Ve}from"./react-router-33fe3b2e.js";import{a as I}from"./axios-4a70c6fc.js";import{$ as re}from"./react-loader-spinner-687527f4.js";import{u as He,f as X,g as Be,a as qe,b as Ke,c as Qe}from"./@tanstack-24ebb7b7.js";import{$ as Ge,a as ne,b as oe,c as Ye,d as le,e as ie,f as de,g as ce,h as me,i as ue,j as he,k as We,l as _e,m as fe,n as Ze}from"./@radix-ui-e33ec21f.js";import{c as Je}from"./class-variance-authority-52f2569e.js";import{c as Xe}from"./clsx-1229b3e0.js";import{t as et}from"./tailwind-merge-0405149e.js";import{C as tt,a as xe,b as st,A as B,M as at,c as rt}from"./lucide-react-9dcfc33d.js";import"./scheduler-765c72db.js";import"./@remix-run-0093eeff.js";import"./@floating-ui-98aebd19.js";import"./aria-hidden-318acb9e.js";import"./tabbable-6ab97b54.js";import"./tslib-89fde298.js";import"./idb-81bdbf9b.js";import"./styled-components-0865550c.js";import"./@emotion-c7be1c00.js";import"./stylis-a9bcbb53.js";import"./@babel-98964cd2.js";import"./react-remove-scroll-b71c63fb.js";import"./react-remove-scroll-bar-0babf0e5.js";import"./react-style-singleton-c9b02a91.js";import"./get-nonce-1ea010b7.js";import"./use-sidecar-1e201c94.js";import"./use-callback-ref-601dd590.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function s(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(n){if(n.ep)return;n.ep=!0;const l=s(n);fetch(n.href,l)}})();const nt=new $e,ot="67a78d53-d47c-4981-b3e4-1843b8591904",K="/notifications",lt="/users",it="/dashboard",Q="/messages",G="/payments",dt={apiKey:"AIzaSyC59xS5P27qzafvucTLTPkAm6gwrWRfMQ8",authDomain:"momentum-ministry.firebaseapp.com",projectId:"momentum-ministry",storageBucket:"momentum-ministry.appspot.com",messagingSenderId:"649626638654",appId:"1:649626638654:web:2c65617d5ee8ed16cab46f",measurementId:"G-F5RPPG148R"},ge=Ae(dt),v=Pe(ge);De(ge);function ct({openModal:t,setOpenModal:a,onSignInComplete:s}){const o=r.useRef(null),n=r.useRef(null);return e.jsxs(M,{show:t,size:"md",popup:!0,onClose:()=>a(!1),initialFocus:o,children:[e.jsx(M.Header,{}),e.jsx(M.Body,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white",children:"Sign in to your account"}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 block",children:e.jsx(R,{htmlFor:"email",value:"Your email"})}),e.jsx(D,{id:"email",ref:o,placeholder:"name@company.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 block",children:e.jsx(R,{htmlFor:"password",value:"Your password"})}),e.jsx(D,{id:"password",ref:n,type:"password",required:!0})]}),e.jsx("div",{className:"w-full",children:e.jsx(E,{className:"bg-momentum-orange hover:bg-momentum-orange enabled:hover:bg-momentum-orange",onClick:()=>{var l,u;Oe(v,(l=o.current)==null?void 0:l.value,(u=n.current)==null?void 0:u.value).then(h=>{const c=h.user;a(!1),s(`Signed in as ${c==null?void 0:c.email}`)}).catch(h=>{const c=h.code,f=h.message;s(`Error: ${c} ${f}`)})},children:"Log in to your account"})})]})})]})}function mt(){return e.jsx(F,{container:!0,className:"mt-5 mb-5",children:e.jsxs("div",{className:"w-full text-center",children:[e.jsxs("div",{className:"w-full justify-between sm:flex sm:items-center sm:justify-between",children:[e.jsx(F.Brand,{href:"/dashboard",src:"assets/logo.png",alt:"Momentum Logo",name:"Momentum"}),e.jsxs(F.LinkGroup,{children:[e.jsx(F.Link,{href:"/messages",children:"Messages"}),e.jsx(F.Link,{href:"/notifications",children:"Notifications"}),e.jsx(F.Link,{href:"/payments",children:"Transactions"})]})]}),e.jsx(F.Divider,{}),e.jsx(F.Copyright,{href:"/dashboard",by:"Momentum Churchâ„¢",year:2024})]})})}function ut({onSigninClick:t}){const[a,s]=r.useState(!!v.currentUser);return r.useEffect(()=>{v.onAuthStateChanged(o=>{s(!!o)}),v.currentUser?s(!0):s(!1)},[v.currentUser]),a?e.jsx(k.Link,{className:"cursor-pointer",onClick:()=>{v.signOut().then(()=>{console.log("Signed out")}).catch(o=>{alert(o)})},children:"Sign Out"}):e.jsx(k.Link,{onClick:t,children:"Sign In"})}function O({content:t,showAuth:a}){const s=ze(),[o,n]=r.useState(!1),[l,u]=r.useState(!1),[h,c]=r.useState("");return r.useEffect(()=>{a&&n(!0)},[a]),e.jsxs(e.Fragment,{children:[e.jsxs(k,{fluid:!0,rounded:!0,className:"w-full  px-0 sm:px-0",children:[e.jsxs(k.Brand,{href:"/dashboard",children:[e.jsx("img",{src:"assets/logo.png",className:"mr-3 h-6 sm:h-9",alt:"Momentum Logo"}),e.jsx("span",{className:"self-center whitespace-nowrap text-xl font-bold border-b border-gray-100 text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:border-0 md:hover:bg-transparent md:hover:text-cyan-700 md:dark:hover:bg-transparent md:dark:hover:text-white",children:"Momentum"})]}),e.jsx(k.Toggle,{}),e.jsxs(k.Collapse,{children:[e.jsx(k.Link,{href:Q,active:Q===s.pathname,children:"Messages"}),e.jsx(k.Link,{href:K,active:K===s.pathname,children:"Notifications"}),e.jsx(k.Link,{href:G,active:G===s.pathname,children:"Transactions"}),e.jsx(ut,{onSigninClick:()=>n(!0)})]})]}),l&&e.jsx("div",{className:"w-full flex items-center justify-end",children:e.jsxs(J,{children:[e.jsx("div",{className:"inline-flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-cyan-100 text-cyan-500 dark:bg-cyan-800 dark:text-cyan-200",children:e.jsx(Ie,{className:"h-5 w-5"})}),e.jsx("div",{className:"ml-3 text-sm font-normal",children:h}),e.jsx(J.Toggle,{onDismiss:()=>u(!1)})]})}),e.jsxs("div",{className:"w-full h-screen flex flex-col justify-between items-center",children:[e.jsxs("div",{children:[" ",t," "]}),e.jsx(mt,{})]}),e.jsx(ct,{openModal:o,setOpenModal:n,onSignInComplete:f=>{c(f),u(!0)}})]})}const ht=()=>{const t=Ue();return r.useEffect(()=>{t("/messages")},[]),e.jsx("div",{className:"w-full",children:e.jsx(O,{})})};function N({reference:t,value:a,title:s,placeholder:o,id:n,onChange:l}){return e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 block",children:e.jsx(R,{htmlFor:n,value:s})}),e.jsx(D,{id:n,ref:t,placeholder:o,value:a,onChange:l,required:!0})]})}function V({reference:t,value:a,title:s,placeholder:o,id:n,onChange:l}){return e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 block",children:e.jsx(R,{htmlFor:n,value:s})}),e.jsx(se,{id:n,ref:t,placeholder:o,value:a,onChange:l,required:!0,rows:6})]})}function ft({openModal:t,setOpenModal:a}){const[s,o]=r.useState([]),n=r.useRef(null),l=r.useRef(null),u=r.useRef(null),h=r.useRef(null),c=r.useRef(null),f=_(p=>I.post("/api/v1/messages",p),{onSuccess:()=>{alert("Message posted successfully")}});return e.jsxs(M,{show:t,size:"md",popup:!0,onClose:()=>a(!1),initialFocus:n,children:[e.jsx(M.Header,{}),e.jsx(M.Body,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white",children:"Add Message"}),e.jsx(N,{reference:n,title:"Title",placeholder:"Enter the title of the message",id:"title"}),e.jsx(N,{reference:l,title:"Series",placeholder:"Enter the series of the message",id:"series"}),e.jsx(N,{reference:u,title:"Preacher",placeholder:"Enter the name of the preacher",id:"preacher"}),e.jsx(N,{reference:c,title:"Date",placeholder:"Enter the display date of the message",id:"date"}),e.jsx(N,{reference:h,title:"Image",placeholder:"Enter the image cover url of the message",id:"image"}),s.map((p,w)=>{switch(p.type){case 0:return e.jsx(V,{reference:p.area,title:"Add header",placeholder:"Enter the header of the passage",id:`header${w+1}`});case 1:return e.jsxs("div",{children:[e.jsx(N,{reference:p.text,title:"Add verse",placeholder:"Enter the verse of the passage",id:`verse${w+1}`}),e.jsx(V,{reference:p.area,title:"Add message",placeholder:"Enter the message of the passage",id:`message${w+1}`})]})}}),e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsx(E,{className:"bg-momentum-orange hover:bg-momentum-orange enabled:hover:bg-momentum-orange",onClick:()=>{var p,w,m,x,$;f.mutate({title:((p=n.current)==null?void 0:p.value)??"",series:((w=l.current)==null?void 0:w.value)??"",preacher:((m=u.current)==null?void 0:m.value)??"",thumbnail:((x=h.current)==null?void 0:x.value)??"",date:(($=c.current)==null?void 0:$.value)??"",passages:s.map((y,C)=>{var j,i,T;switch(y.type){case 0:return{header:((j=y.area.current)==null?void 0:j.value)??"",type:"header",order:C};case 1:return{verse:((i=y.text.current)==null?void 0:i.value)??"",message:((T=y.area.current)==null?void 0:T.value)??"",type:"message",order:C}}})}),a(!1)},children:"Submit"}),e.jsxs("div",{className:"flex",children:[e.jsx(E,{className:"bg-momentum-orange hover:bg-momentum-orange active:bg-momentum-orange enabled:hover:bg-momentum-orange",onClick:()=>{o([...s,{type:0,text:r.createRef(),area:r.createRef()}]),console.log(s)},children:"Header"}),e.jsxs("div",{className:"flex",children:[e.jsx(E,{className:"ml-1 bg-momentum-orange hover:bg-momentum-orange enabled:hover:bg-momentum-orange",onClick:()=>{o([...s,{type:1,text:r.createRef(),area:r.createRef()}]),console.log(s)},children:"Message"}),s.length>0?e.jsx(E,{className:"ml-1 rounded-full bg-momentum-orange hover:bg-momentum-orange enabled:hover:bg-momentum-orange",onClick:()=>{o([...s.slice(0,s.length-1)]),console.log(s)},children:e.jsx("svg",{className:"w-4 h-4 rounded-full text-white-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9h13a5 5 0 0 1 0 10H7M3 9l4-4M3 9l4 4"})})}):e.jsx(e.Fragment,{})]})]})]})]})})]})}function xt({message:t,openModal:a,setOpenModal:s}){const[o,n]=r.useState(""),[l,u]=r.useState(""),[h,c]=r.useState(""),[f,p]=r.useState(""),[w,m]=r.useState(""),[x,$]=r.useState(!1),[y,C]=r.useState([]),[j,i]=r.useState([]),T=_(d=>I.put("/api/v1/messages",d),{onSuccess:()=>{alert("Message posted successfully")}});return r.useEffect(()=>{console.log(t),t&&(n(t.title),$(t.published),u(t.series),c(t.preacher),p(t.thumbnail),m(t.date),C([...(t==null?void 0:t.passages)??[]]))},[t]),r.useEffect(()=>{console.log(j)},[j]),e.jsxs(M,{show:a,size:"md",popup:!0,onClose:()=>{C([...(t==null?void 0:t.passages)??[]]),s(!1)},children:[e.jsx(M.Header,{}),e.jsx(M.Body,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white",children:"Edit Message"}),e.jsx("div",{children:e.jsx(Ee,{checked:x,label:"Published",onChange:$})}),e.jsx(N,{value:o,title:"Title",placeholder:"Enter the title of the message",id:"title",onChange:d=>{n(d.target.value)}}),e.jsx(N,{value:l,title:"Series",placeholder:"Enter the series of the message",id:"series",onChange:d=>{u(d.target.value)}}),e.jsx(N,{value:h,title:"Preacher",placeholder:"Enter the name of the preacher",id:"preacher",onChange:d=>{c(d.target.value)}}),e.jsx(N,{value:w,title:"Date",placeholder:"Enter the display date of the message",id:"date",onChange:d=>{m(d.target.value)}}),e.jsx(N,{value:f,title:"Image",placeholder:"Enter the image cover url of the message",id:"image",onChange:d=>{p(d.target.value)}}),y.map((d,A)=>((d==null?void 0:d.header)??"").length>0?e.jsx(e.Fragment,{children:e.jsx(V,{value:d.header,title:"Header",placeholder:"Enter the header of the passage",id:`edit-header${A+1}`,onChange:P=>{let b={id:d.id,header:P.target.value,type:d.type,order:d.order};y[A]=b,j.find(S=>S.id===b.id)===void 0?i([...j,b]):i([...j.filter(S=>S.id!==b.id),b]),C([...y])}})}):e.jsxs(e.Fragment,{children:[e.jsx(N,{value:d.verse,title:"Verse",placeholder:"Enter the verse of the passage",id:`edit-verse${A+1}`,onChange:P=>{let b={id:d.id,verse:P.target.value,message:d.message,type:d.type,order:d.order};y[A]=b,j.filter(S=>S.id===b.id).length===0?i([...j,b]):i([...j.filter(S=>S.id!==b.id),b]),C([...y])}}),e.jsx(V,{value:d.message,title:"Message",placeholder:"Enter the message of the passage",id:`edit-message${A+1}`,onChange:P=>{let b={id:d.id,verse:d.verse,message:P.target.value,type:d.type,order:d.order};y[A]=b,j.filter(S=>S.id===b.id).length===0?i([...j,b]):i([...j.filter(S=>S.id!==b.id),b]),C([...y])}})]}))]})}),e.jsx(M.Footer,{children:e.jsx(E,{className:"bg-momentum-orange hover:bg-momentum-orange enabled:hover:bg-momentum-orange",onClick:()=>{T.mutate({id:(t==null?void 0:t.id)??"",title:o,series:l,preacher:h,thumbnail:f,date:w,passages:j,published:x}),s(!1)},children:"Update"})})]})}const gt=()=>{var y,C,j;const{data:t,isLoading:a}=q({queryKey:["message-admin"],queryFn:async()=>{const{data:i}=await I.get("/api/v1/messages/admin");return i}}),{data:s}=q({queryKey:["message-unpublished"],queryFn:async()=>{const{data:i}=await I.get("/api/v1/messages/unpublished");return i}}),[o,n]=r.useState(!1),[l,u]=r.useState(""),[h,c]=r.useState(["preacher","title","series","date"]),[f,p]=r.useState(!1),[w,m]=r.useState(!1),[x,$]=r.useState(null);return r.useEffect(()=>{setTimeout(()=>{c([h[h.length-1],...h.slice(0,h.length-1)])},2e3)},[h]),a?e.jsx("div",{className:"w-full h-screen flex flex-col justify-center items-center",children:e.jsx(re,{visible:!0,height:"150",width:"150",color:"#ec750c",ariaLabel:"rings-loading",wrapperStyle:{},wrapperClass:""})}):e.jsx(e.Fragment,{children:e.jsxs("main",{className:"w-full h-screen",children:[e.jsx(O,{content:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full flex justify-center items-end",children:[e.jsx(D,{className:"lg:w-[500px] w-[240px] ml-4 rounded-none",type:"text",placeholder:`Search by "${h[0]}"`,onChange:i=>{u(i.target.value)}}),e.jsx("button",{className:"bg-momentum-orange hover:bg-momentum-orange text-white font-bold py-2.5 px-4 rounded-none max-h-[42px] ml-[-5px] z-10 rounded-r-lg",onClick:()=>{v.currentUser?p(!0):n(!0)},children:"Add Message"})]}),s.data&&e.jsxs(e.Fragment,{children:[e.jsx("h6",{className:"mt-2 font-bold text-lg",children:"Private"}),e.jsx("p",{className:"text-sm text-gray-500",children:"View & Edit Staged Content Prior To Publishing"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 lg:grid-cols-5 lg:gap-4  md: md:grid-cols-3  w-full",children:(y=s.data.filter(i=>i.title.toLowerCase().includes(l.toLowerCase())||i.preacher.toLowerCase().includes(l.toLowerCase())||i.date.toLowerCase().includes(l.toLowerCase())||i.series.toLowerCase().includes(l.toLowerCase())||l.length===0))==null?void 0:y.map(i=>e.jsx("div",{children:e.jsx(ee,{message:i,onEditMessage:T=>{v.currentUser?($(T),m(!0)):n(!0)}})},i.id))})]}),e.jsx("h6",{className:"mt-5 font-bold text-lg",children:"Public"}),e.jsx("p",{className:"text-sm text-gray-500",children:"View & Edit Current Publicly Available Content"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 lg:grid-cols-5 lg:gap-4  md: md:grid-cols-3  w-full",children:(j=(C=t.data)==null?void 0:C.filter(i=>i.title.toLowerCase().includes(l.toLowerCase())||i.preacher.toLowerCase().includes(l.toLowerCase())||i.date.toLowerCase().includes(l.toLowerCase())||i.series.toLowerCase().includes(l.toLowerCase())||l.length===0))==null?void 0:j.map(i=>e.jsx("div",{children:e.jsx(ee,{message:i,onEditMessage:T=>{v.currentUser?($(T),m(!0)):n(!0)}})},i.id))})]}),showAuth:o}),e.jsx(ft,{openModal:f,setOpenModal:p}),e.jsx(xt,{openModal:w,setOpenModal:m,message:x})]})})};function ee({message:t,onEditMessage:a}){return e.jsx(ae,{className:"max-w-lg mt-6",renderImage:()=>e.jsx("img",{className:"max-h-[140px] md:max-h-[160px] lg:max-h-[180px]",crossOrigin:"anonymous",src:t.thumbnail,title:"source: imgur.com"}),horizontal:!1,children:e.jsxs("div",{className:"min-w-96 flex justify-between items-top",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-2xl font-bold tracking-tight text-gray-900 dark:text-white line-clamp-1",children:t.preacher}),e.jsx("p",{className:"font-normal text-gray-700 dark:text-gray-400 line-clamp-1",children:t.date}),e.jsx("p",{className:"font-normal text-gray-700 dark:text-gray-400 line-clamp-1",children:t.series}),e.jsx("p",{className:"font-normal text-gray-700 dark:text-gray-400 line-clamp-1",children:t.title})]}),e.jsx("button",{onClick:()=>{a(t)},className:"bg-momentum-orange hover:bg-momentum-orange text-white font-bold p-2 rounded-full max-h-11 ",children:e.jsx("svg",{className:"w-6 h-6 ml-1 text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"})})})]})})}const pt=()=>{const[t,a]=r.useState(!1);return e.jsx("main",{className:"w-full h-screen",children:e.jsx(O,{content:e.jsx("div",{className:"w-full h-screen flex justify-center items-center",children:e.jsx(jt,{setOpenAuthModal:()=>{a(!0)}})}),showAuth:t})})};function jt({setOpenAuthModal:t}){const[a,s]=r.useState(""),[o,n]=r.useState(""),[l,u]=r.useState("MomentumUsers"),h=_(c=>I.post("/api/v1/notifications",c),{onSuccess:()=>{alert("Notification sent successfully")}});return e.jsx(ae,{className:"min-w-[23%]",children:e.jsxs("form",{className:"flex flex-col gap-4",children:[e.jsx("h5",{className:"mb-2 text-3xl font-bold text-gray-900 dark:text-white",children:"Reach all users anytime"}),e.jsx("p",{className:"mb-5 text-base text-gray-500 dark:text-gray-400 sm:text-lg",children:"Notify users on iOS & Android on upcoming events and lastest updates."}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 block",children:e.jsx(R,{htmlFor:"title",value:"Title"})}),e.jsx(D,{id:"title",type:"text",required:!0,onChange:c=>{s(c.target.value)}})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 block",children:e.jsx(R,{htmlFor:"body",value:"Body"})}),e.jsx(se,{id:"body",rows:5,required:!0,onChange:c=>{n(c.target.value)}})]}),e.jsx("div",{children:e.jsxs("fieldset",{className:"flex max-w-md flex-col gap-4",onChange:c=>{u(c.target.value)},children:[e.jsx("legend",{className:"mb-4",children:"Choose your target audience"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{id:"all-users",name:"audience",value:"MomentumUsers",defaultChecked:!0}),e.jsx(R,{htmlFor:"all-users",children:"All Users"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{id:"android",name:"audience",value:"MomentumAndroid"}),e.jsx(R,{htmlFor:"android",children:"Android"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{id:"ios",name:"audience",value:"MomentumIOS"}),e.jsx(R,{htmlFor:"ios",children:"iOS"})]})]})}),e.jsx(E,{className:"bg-momentum-orange hover:bg-momentum-orange  enabled:hover:bg-momentum-orange",type:"submit",onClick:c=>{if(c.preventDefault(),v.currentUser){if(a===""||o===""){alert("Please fill in all fields");return}h.mutate({title:a,body:o,topic:l})}else t()},children:"Send Notification"})]})})}function g(...t){return et(Xe(t))}const bt=Je("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),L=r.forwardRef(({className:t,variant:a,size:s,asChild:o=!1,...n},l)=>{const u=o?Ge:"button";return e.jsx(u,{className:g(bt({variant:a,size:s,className:t})),ref:l,...n})});L.displayName="Button";const pe=We,je=_e,vt=r.forwardRef(({className:t,inset:a,children:s,...o},n)=>e.jsxs(ne,{ref:n,className:g("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",a&&"pl-8",t),...o,children:[s,e.jsx(tt,{className:"ml-auto h-4 w-4"})]}));vt.displayName=ne.displayName;const yt=r.forwardRef(({className:t,...a},s)=>e.jsx(oe,{ref:s,className:g("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));yt.displayName=oe.displayName;const Z=r.forwardRef(({className:t,sideOffset:a=4,...s},o)=>e.jsx(Ye,{children:e.jsx(le,{ref:o,sideOffset:a,className:g("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));Z.displayName=le.displayName;const z=r.forwardRef(({className:t,inset:a,...s},o)=>e.jsx(ie,{ref:o,className:g("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",t),...s}));z.displayName=ie.displayName;const be=r.forwardRef(({className:t,children:a,checked:s,...o},n)=>e.jsxs(de,{ref:n,className:g("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:s,...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ce,{children:e.jsx(xe,{className:"h-4 w-4"})})}),a]}));be.displayName=de.displayName;const wt=r.forwardRef(({className:t,children:a,...s},o)=>e.jsxs(me,{ref:o,className:g("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ce,{children:e.jsx(st,{className:"h-2 w-2 fill-current"})})}),a]}));wt.displayName=me.displayName;const ve=r.forwardRef(({className:t,inset:a,...s},o)=>e.jsx(ue,{ref:o,className:g("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",t),...s}));ve.displayName=ue.displayName;const ye=r.forwardRef(({className:t,...a},s)=>e.jsx(he,{ref:s,className:g("-mx-1 my-1 h-px bg-muted",t),...a}));ye.displayName=he.displayName;const we=r.forwardRef(({className:t,type:a,...s},o)=>e.jsx("input",{type:a,className:g("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:o,...s}));we.displayName="Input";const Ne=r.forwardRef(({className:t,...a},s)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:s,className:g("w-full caption-bottom text-sm",t),...a})}));Ne.displayName="Table";const Ce=r.forwardRef(({className:t,...a},s)=>e.jsx("thead",{ref:s,className:g("[&_tr]:border-b",t),...a}));Ce.displayName="TableHeader";const Se=r.forwardRef(({className:t,...a},s)=>e.jsx("tbody",{ref:s,className:g("[&_tr:last-child]:border-0",t),...a}));Se.displayName="TableBody";const Nt=r.forwardRef(({className:t,...a},s)=>e.jsx("tfoot",{ref:s,className:g("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...a}));Nt.displayName="TableFooter";const U=r.forwardRef(({className:t,...a},s)=>e.jsx("tr",{ref:s,className:g("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...a}));U.displayName="TableRow";const Me=r.forwardRef(({className:t,...a},s)=>e.jsx("th",{ref:s,className:g("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...a}));Me.displayName="TableHead";const Y=r.forwardRef(({className:t,...a},s)=>e.jsx("td",{ref:s,className:g("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...a}));Y.displayName="TableCell";const Ct=r.forwardRef(({className:t,...a},s)=>e.jsx("caption",{ref:s,className:g("mt-4 text-sm text-muted-foreground",t),...a}));Ct.displayName="TableCaption";const W=r.forwardRef(({className:t,...a},s)=>e.jsx(fe,{ref:s,className:g("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...a,children:e.jsx(Ze,{className:g("flex items-center justify-center text-current"),children:e.jsx(xe,{className:"h-4 w-4"})})}));W.displayName=fe.displayName;const te=[{id:"select",header:({table:t})=>e.jsx(W,{checked:t.getIsAllPageRowsSelected()||t.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:a=>t.toggleAllPageRowsSelected(!!a),"aria-label":"Select all"}),cell:({row:t})=>e.jsx(W,{checked:t.getIsSelected(),onCheckedChange:a=>t.toggleSelected(!!a),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"date",header:"Date",cell:({row:t})=>e.jsx("div",{className:"capitalize",children:v.currentUser?t.getValue("date"):t.getValue("date").split("").map(()=>"*").join("")})},{accessorKey:"user",header:({column:t})=>e.jsxs(L,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Fullname",e.jsx(B,{className:"ml-2 h-4 w-4"})]}),cell:({row:t})=>e.jsx("div",{className:"capitalize",children:v.currentUser?t.getValue("user").fullname:t.index==0?"ðŸ”’ Signin to view information":""})},{accessorKey:"description",header:"Description",cell:({row:t})=>e.jsx("div",{className:"capitalize",children:v.currentUser?t.getValue("description"):t.getValue("description").split("").map(()=>"*").join("")})},{accessorKey:"user",header:({column:t})=>e.jsxs(L,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Email",e.jsx(B,{className:"ml-2 h-4 w-4"})]}),cell:({row:t})=>e.jsx("div",{className:v.currentUser?"lowercase":"capitalize",children:v.currentUser?t.getValue("user").email:t.index==0?"ðŸ”’ Signin to view information":""})},{accessorKey:"createdOn",header:({column:t})=>e.jsxs(L,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Created On",e.jsx(B,{className:"ml-2 h-4 w-4"})]}),cell:({row:t})=>e.jsx("div",{className:"lowercase",children:v.currentUser?new Date(t.getValue("createdOn")).toLocaleDateString():t.getValue("createdOn").split("").map(()=>"*").join("")})},{accessorKey:"amount",header:()=>e.jsx("div",{className:"text-right",children:"Amount"}),cell:({row:t})=>{const a=parseFloat(t.getValue("amount")),s=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a);return e.jsx("div",{className:"text-right font-medium",children:v.currentUser?s:s.split("").map(()=>"$").slice(0,s.length-2).join("")})}},{id:"actions",enableHiding:!1,cell:({row:t})=>{const a=t.original;return e.jsxs(pe,{children:[e.jsx(je,{asChild:!0,children:e.jsxs(L,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(at,{className:"h-4 w-4"})]})}),e.jsxs(Z,{align:"end",children:[e.jsx(ve,{children:"Actions"}),e.jsx(z,{onClick:()=>navigator.clipboard.writeText(a.id),children:"Copy payment ID"}),e.jsx(ye,{}),e.jsx(z,{children:"View customer"}),e.jsx(z,{children:"View payment details"})]})]})}}];function St({data:t}){var p,w;const[a,s]=r.useState([]),[o,n]=r.useState([]),[l,u]=r.useState({}),[h,c]=r.useState({}),f=He({data:t,columns:te,onSortingChange:s,onColumnFiltersChange:n,getCoreRowModel:Be(),getPaginationRowModel:qe(),getSortedRowModel:Ke(),getFilteredRowModel:Qe(),onColumnVisibilityChange:u,onRowSelectionChange:c,state:{sorting:a,columnFilters:o,columnVisibility:l,rowSelection:h}});return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center py-4",children:[e.jsx(we,{placeholder:"Filter emails...",value:((p=f.getColumn("email"))==null?void 0:p.getFilterValue())??"",onChange:m=>{var x;return(x=f.getColumn("email"))==null?void 0:x.setFilterValue(m.target.value)},className:"max-w-sm"}),e.jsxs(pe,{children:[e.jsx(je,{asChild:!0,children:e.jsxs(L,{variant:"outline",className:"ml-auto",children:["Columns ",e.jsx(rt,{className:"ml-2 h-4 w-4"})]})}),e.jsx(Z,{align:"end",children:f.getAllColumns().filter(m=>m.getCanHide()).map(m=>e.jsx(be,{className:"capitalize",checked:m.getIsVisible(),onCheckedChange:x=>m.toggleVisibility(!!x),children:m.id},m.id))})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ne,{children:[e.jsx(Ce,{children:f.getHeaderGroups().map(m=>e.jsx(U,{children:m.headers.map(x=>e.jsx(Me,{children:x.isPlaceholder?null:X(x.column.columnDef.header,x.getContext())},x.id))},m.id))}),e.jsx(Se,{children:(w=f.getRowModel().rows)!=null&&w.length?f.getRowModel().rows.map(m=>e.jsx(U,{"data-state":m.getIsSelected()&&"selected",children:m.getVisibleCells().map(x=>e.jsx(Y,{children:X(x.column.columnDef.cell,x.getContext())},x.id))},m.id)):e.jsx(U,{children:e.jsx(Y,{colSpan:te.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[e.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[f.getFilteredSelectedRowModel().rows.length," of"," ",f.getFilteredRowModel().rows.length," row(s) selected."]}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(L,{variant:"outline",size:"sm",onClick:()=>f.previousPage(),disabled:!f.getCanPreviousPage(),children:"Previous"}),e.jsx(L,{variant:"outline",size:"sm",onClick:()=>f.nextPage(),disabled:!f.getCanNextPage(),children:"Next"})]})]})]})}const Mt=()=>{const{data:t,isLoading:a}=q({queryKey:["transactions"],queryFn:async()=>{const{data:s}=await I.get("/api/v1/transactions");return s}});return a?e.jsx("div",{className:"w-full h-screen flex flex-col justify-center items-center",children:e.jsx(re,{visible:!0,height:"150",width:"150",color:"#ec750c",ariaLabel:"rings-loading",wrapperStyle:{},wrapperClass:""})}):e.jsx("main",{className:"w-full h-screen",children:e.jsx(O,{content:e.jsx(St,{data:t})})})},kt=()=>e.jsx("div",{className:"w-full",children:e.jsx(O,{})}),Rt=Le([{path:Q,element:e.jsx(gt,{})},{path:it,element:e.jsx(ht,{})},{path:K,element:e.jsx(pt,{})},{path:G,element:e.jsx(Mt,{})},{path:lt,element:e.jsx(kt,{})}]);I.interceptors.request.use(t=>(t.headers.Authorization=`Bearer ${ot}`,t),t=>Promise.reject(t));function $t(){return e.jsxs(Te,{client:nt,children:[e.jsx(Ve,{router:Rt}),e.jsx(Fe.ReactQueryDevtools,{initialIsOpen:!1})]})}Re.createRoot(document.getElementById("root")).render(e.jsx(ke.StrictMode,{children:e.jsx($t,{})}));
