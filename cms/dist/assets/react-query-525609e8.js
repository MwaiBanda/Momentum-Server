import{_ as p,a as T}from"./@babel-a3f164e7.js";import{a as C}from"./react-bc4662ae.js";import{R as Mt}from"./react-dom-ce85487d.js";var K=function(){function s(){this.listeners=[]}var i=s.prototype;return i.subscribe=function(t){var e=this,n=t||function(){};return this.listeners.push(n),this.onSubscribe(),function(){e.listeners=e.listeners.filter(function(a){return a!==n}),e.onUnsubscribe()}},i.hasListeners=function(){return this.listeners.length>0},i.onSubscribe=function(){},i.onUnsubscribe=function(){},s}(),J=typeof window>"u";function F(){}function _t(s,i){return typeof s=="function"?s(i):s}function rt(s){return typeof s=="number"&&s>=0&&s!==1/0}function X(s){return Array.isArray(s)?s:[s]}function yt(s,i){return Math.max(s+(i||0)-Date.now(),0)}function G(s,i,r){return j(s)?typeof i=="function"?p({},r,{queryKey:s,queryFn:i}):p({},i,{queryKey:s}):s}function wt(s,i,r){return j(s)?typeof i=="function"?p({},r,{mutationKey:s,mutationFn:i}):p({},i,{mutationKey:s}):typeof s=="function"?p({},i,{mutationFn:s}):p({},s)}function w(s,i,r){return j(s)?[p({},i,{queryKey:s}),r]:[s||{},i]}function At(s,i){if(s===!0&&i===!0||s==null&&i==null)return"all";if(s===!1&&i===!1)return"none";var r=s??!i;return r?"active":"inactive"}function ot(s,i){var r=s.active,t=s.exact,e=s.fetching,n=s.inactive,a=s.predicate,u=s.queryKey,o=s.stale;if(j(u)){if(t){if(i.queryHash!==ut(u,i.options))return!1}else if(!Y(i.queryKey,u))return!1}var c=At(r,n);if(c==="none")return!1;if(c!=="all"){var l=i.isActive();if(c==="active"&&!l||c==="inactive"&&l)return!1}return!(typeof o=="boolean"&&i.isStale()!==o||typeof e=="boolean"&&i.isFetching()!==e||a&&!a(i))}function ct(s,i){var r=s.exact,t=s.fetching,e=s.predicate,n=s.mutationKey;if(j(n)){if(!i.options.mutationKey)return!1;if(r){if(U(i.options.mutationKey)!==U(n))return!1}else if(!Y(i.options.mutationKey,n))return!1}return!(typeof t=="boolean"&&i.state.status==="loading"!==t||e&&!e(i))}function ut(s,i){var r=(i==null?void 0:i.queryKeyHashFn)||U;return r(s)}function U(s){var i=X(s);return Dt(i)}function Dt(s){return JSON.stringify(s,function(i,r){return it(r)?Object.keys(r).sort().reduce(function(t,e){return t[e]=r[e],t},{}):r})}function Y(s,i){return mt(X(s),X(i))}function mt(s,i){return s===i?!0:typeof s!=typeof i?!1:s&&i&&typeof s=="object"&&typeof i=="object"?!Object.keys(i).some(function(r){return!mt(s[r],i[r])}):!1}function Z(s,i){if(s===i)return s;var r=Array.isArray(s)&&Array.isArray(i);if(r||it(s)&&it(i)){for(var t=r?s.length:Object.keys(s).length,e=r?i:Object.keys(i),n=e.length,a=r?[]:{},u=0,o=0;o<n;o++){var c=r?o:e[o];a[c]=Z(s[c],i[c]),a[c]===s[c]&&u++}return t===n&&u===t?s:a}return i}function xt(s,i){if(s&&!i||i&&!s)return!1;for(var r in s)if(s[r]!==i[r])return!1;return!0}function it(s){if(!lt(s))return!1;var i=s.constructor;if(typeof i>"u")return!0;var r=i.prototype;return!(!lt(r)||!r.hasOwnProperty("isPrototypeOf"))}function lt(s){return Object.prototype.toString.call(s)==="[object Object]"}function j(s){return typeof s=="string"||Array.isArray(s)}function Ut(s){return new Promise(function(i){setTimeout(i,s)})}function ft(s){Promise.resolve().then(s).catch(function(i){return setTimeout(function(){throw i})})}function bt(){if(typeof AbortController=="function")return new AbortController}var It=function(s){T(i,s);function i(){var t;return t=s.call(this)||this,t.setup=function(e){var n;if(!J&&((n=window)!=null&&n.addEventListener)){var a=function(){return e()};return window.addEventListener("visibilitychange",a,!1),window.addEventListener("focus",a,!1),function(){window.removeEventListener("visibilitychange",a),window.removeEventListener("focus",a)}}},t}var r=i.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}},r.setEventListener=function(e){var n,a=this;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(function(u){typeof u=="boolean"?a.setFocused(u):a.onFocus()})},r.setFocused=function(e){this.focused=e,e&&this.onFocus()},r.onFocus=function(){this.listeners.forEach(function(e){e()})},r.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},i}(K),N=new It,Tt=function(s){T(i,s);function i(){var t;return t=s.call(this)||this,t.setup=function(e){var n;if(!J&&((n=window)!=null&&n.addEventListener)){var a=function(){return e()};return window.addEventListener("online",a,!1),window.addEventListener("offline",a,!1),function(){window.removeEventListener("online",a),window.removeEventListener("offline",a)}}},t}var r=i.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}},r.setEventListener=function(e){var n,a=this;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(function(u){typeof u=="boolean"?a.setOnline(u):a.onOnline()})},r.setOnline=function(e){this.online=e,e&&this.onOnline()},r.onOnline=function(){this.listeners.forEach(function(e){e()})},r.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},i}(K),V=new Tt;function Kt(s){return Math.min(1e3*Math.pow(2,s),3e4)}function z(s){return typeof(s==null?void 0:s.cancel)=="function"}var gt=function(i){this.revert=i==null?void 0:i.revert,this.silent=i==null?void 0:i.silent};function W(s){return s instanceof gt}var Ot=function(i){var r=this,t=!1,e,n,a,u;this.abort=i.abort,this.cancel=function(d){return e==null?void 0:e(d)},this.cancelRetry=function(){t=!0},this.continueRetry=function(){t=!1},this.continue=function(){return n==null?void 0:n()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(d,f){a=d,u=f});var o=function(f){r.isResolved||(r.isResolved=!0,i.onSuccess==null||i.onSuccess(f),n==null||n(),a(f))},c=function(f){r.isResolved||(r.isResolved=!0,i.onError==null||i.onError(f),n==null||n(),u(f))},l=function(){return new Promise(function(f){n=f,r.isPaused=!0,i.onPause==null||i.onPause()}).then(function(){n=void 0,r.isPaused=!1,i.onContinue==null||i.onContinue()})},v=function d(){if(!r.isResolved){var f;try{f=i.fn()}catch(h){f=Promise.reject(h)}e=function(m){if(!r.isResolved&&(c(new gt(m)),r.abort==null||r.abort(),z(f)))try{f.cancel()}catch{}},r.isTransportCancelable=z(f),Promise.resolve(f).then(o).catch(function(h){var m,Q;if(!r.isResolved){var R=(m=i.retry)!=null?m:3,O=(Q=i.retryDelay)!=null?Q:Kt,y=typeof O=="function"?O(r.failureCount,h):O,q=R===!0||typeof R=="number"&&r.failureCount<R||typeof R=="function"&&R(r.failureCount,h);if(t||!q){c(h);return}r.failureCount++,i.onFail==null||i.onFail(r.failureCount,h),Ut(y).then(function(){if(!N.isFocused()||!V.isOnline())return l()}).then(function(){t?c(h):d()})}})}};v()},$t=function(){function s(){this.queue=[],this.transactions=0,this.notifyFn=function(r){r()},this.batchNotifyFn=function(r){r()}}var i=s.prototype;return i.batch=function(t){var e;this.transactions++;try{e=t()}finally{this.transactions--,this.transactions||this.flush()}return e},i.schedule=function(t){var e=this;this.transactions?this.queue.push(t):ft(function(){e.notifyFn(t)})},i.batchCalls=function(t){var e=this;return function(){for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];e.schedule(function(){t.apply(void 0,a)})}},i.flush=function(){var t=this,e=this.queue;this.queue=[],e.length&&ft(function(){t.batchNotifyFn(function(){e.forEach(function(n){t.notifyFn(n)})})})},i.setNotifyFunction=function(t){this.notifyFn=t},i.setBatchNotifyFunction=function(t){this.batchNotifyFn=t},s}(),b=new $t,Ct=console;function tt(){return Ct}function Lt(s){Ct=s}var Nt=function(){function s(r){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=r.defaultOptions,this.setOptions(r.options),this.observers=[],this.cache=r.cache,this.queryKey=r.queryKey,this.queryHash=r.queryHash,this.initialState=r.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=r.meta,this.scheduleGc()}var i=s.prototype;return i.setOptions=function(t){var e;this.options=p({},this.defaultOptions,t),this.meta=t==null?void 0:t.meta,this.cacheTime=Math.max(this.cacheTime||0,(e=this.options.cacheTime)!=null?e:5*60*1e3)},i.setDefaultOptions=function(t){this.defaultOptions=t},i.scheduleGc=function(){var t=this;this.clearGcTimeout(),rt(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){t.optionalRemove()},this.cacheTime))},i.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},i.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},i.setData=function(t,e){var n,a,u=this.state.data,o=_t(t,u);return(n=(a=this.options).isDataEqual)!=null&&n.call(a,u,o)?o=u:this.options.structuralSharing!==!1&&(o=Z(u,o)),this.dispatch({data:o,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt}),o},i.setState=function(t,e){this.dispatch({type:"setState",state:t,setStateOptions:e})},i.cancel=function(t){var e,n=this.promise;return(e=this.retryer)==null||e.cancel(t),n?n.then(F).catch(F):Promise.resolve()},i.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},i.reset=function(){this.destroy(),this.setState(this.initialState)},i.isActive=function(){return this.observers.some(function(t){return t.options.enabled!==!1})},i.isFetching=function(){return this.state.isFetching},i.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(t){return t.getCurrentResult().isStale})},i.isStaleByTime=function(t){return t===void 0&&(t=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!yt(this.state.dataUpdatedAt,t)},i.onFocus=function(){var t,e=this.observers.find(function(n){return n.shouldFetchOnWindowFocus()});e&&e.refetch(),(t=this.retryer)==null||t.continue()},i.onOnline=function(){var t,e=this.observers.find(function(n){return n.shouldFetchOnReconnect()});e&&e.refetch(),(t=this.retryer)==null||t.continue()},i.addObserver=function(t){this.observers.indexOf(t)===-1&&(this.observers.push(t),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))},i.removeObserver=function(t){this.observers.indexOf(t)!==-1&&(this.observers=this.observers.filter(function(e){return e!==t}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:t}))},i.getObserversCount=function(){return this.observers.length},i.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},i.fetch=function(t,e){var n=this,a,u,o;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(e!=null&&e.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return(c=this.retryer)==null||c.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){var l=this.observers.find(function(O){return O.options.queryFn});l&&this.setOptions(l.options)}var v=X(this.queryKey),d=bt(),f={queryKey:v,pageParam:void 0,meta:this.meta};Object.defineProperty(f,"signal",{enumerable:!0,get:function(){if(d)return n.abortSignalConsumed=!0,d.signal}});var h=function(){return n.options.queryFn?(n.abortSignalConsumed=!1,n.options.queryFn(f)):Promise.reject("Missing queryFn")},m={fetchOptions:e,options:this.options,queryKey:v,state:this.state,fetchFn:h,meta:this.meta};if((a=this.options.behavior)!=null&&a.onFetch){var Q;(Q=this.options.behavior)==null||Q.onFetch(m)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((u=m.fetchOptions)==null?void 0:u.meta)){var R;this.dispatch({type:"fetch",meta:(R=m.fetchOptions)==null?void 0:R.meta})}return this.retryer=new Ot({fn:m.fetchFn,abort:d==null||(o=d.abort)==null?void 0:o.bind(d),onSuccess:function(y){n.setData(y),n.cache.config.onSuccess==null||n.cache.config.onSuccess(y,n),n.cacheTime===0&&n.optionalRemove()},onError:function(y){W(y)&&y.silent||n.dispatch({type:"error",error:y}),W(y)||(n.cache.config.onError==null||n.cache.config.onError(y,n),tt().error(y)),n.cacheTime===0&&n.optionalRemove()},onFail:function(){n.dispatch({type:"failed"})},onPause:function(){n.dispatch({type:"pause"})},onContinue:function(){n.dispatch({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay}),this.promise=this.retryer.promise,this.promise},i.dispatch=function(t){var e=this;this.state=this.reducer(this.state,t),b.batch(function(){e.observers.forEach(function(n){n.onQueryUpdate(t)}),e.cache.notify({query:e,type:"queryUpdated",action:t})})},i.getDefaultState=function(t){var e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof t.initialData<"u",a=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0,u=typeof e<"u";return{data:e,dataUpdateCount:0,dataUpdatedAt:u?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:u?"success":"idle"}},i.reducer=function(t,e){var n,a;switch(e.type){case"failed":return p({},t,{fetchFailureCount:t.fetchFailureCount+1});case"pause":return p({},t,{isPaused:!0});case"continue":return p({},t,{isPaused:!1});case"fetch":return p({},t,{fetchFailureCount:0,fetchMeta:(n=e.meta)!=null?n:null,isFetching:!0,isPaused:!1},!t.dataUpdatedAt&&{error:null,status:"loading"});case"success":return p({},t,{data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:(a=e.dataUpdatedAt)!=null?a:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var u=e.error;return W(u)&&u.revert&&this.revertState?p({},this.revertState):p({},t,{error:u,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return p({},t,{isInvalidated:!0});case"setState":return p({},t,e.state);default:return t}},s}(),jt=function(s){T(i,s);function i(t){var e;return e=s.call(this)||this,e.config=t||{},e.queries=[],e.queriesMap={},e}var r=i.prototype;return r.build=function(e,n,a){var u,o=n.queryKey,c=(u=n.queryHash)!=null?u:ut(o,n),l=this.get(c);return l||(l=new Nt({cache:this,queryKey:o,queryHash:c,options:e.defaultQueryOptions(n),state:a,defaultOptions:e.getQueryDefaults(o),meta:n.meta}),this.add(l)),l},r.add=function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"queryAdded",query:e}))},r.remove=function(e){var n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(function(a){return a!==e}),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"queryRemoved",query:e}))},r.clear=function(){var e=this;b.batch(function(){e.queries.forEach(function(n){e.remove(n)})})},r.get=function(e){return this.queriesMap[e]},r.getAll=function(){return this.queries},r.find=function(e,n){var a=w(e,n),u=a[0];return typeof u.exact>"u"&&(u.exact=!0),this.queries.find(function(o){return ot(u,o)})},r.findAll=function(e,n){var a=w(e,n),u=a[0];return Object.keys(u).length>0?this.queries.filter(function(o){return ot(u,o)}):this.queries},r.notify=function(e){var n=this;b.batch(function(){n.listeners.forEach(function(a){a(e)})})},r.onFocus=function(){var e=this;b.batch(function(){e.queries.forEach(function(n){n.onFocus()})})},r.onOnline=function(){var e=this;b.batch(function(){e.queries.forEach(function(n){n.onOnline()})})},i}(K),Bt=function(){function s(r){this.options=p({},r.defaultOptions,r.options),this.mutationId=r.mutationId,this.mutationCache=r.mutationCache,this.observers=[],this.state=r.state||Rt(),this.meta=r.meta}var i=s.prototype;return i.setState=function(t){this.dispatch({type:"setState",state:t})},i.addObserver=function(t){this.observers.indexOf(t)===-1&&this.observers.push(t)},i.removeObserver=function(t){this.observers=this.observers.filter(function(e){return e!==t})},i.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(F).catch(F)):Promise.resolve()},i.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},i.execute=function(){var t=this,e,n=this.state.status==="loading",a=Promise.resolve();return n||(this.dispatch({type:"loading",variables:this.options.variables}),a=a.then(function(){t.mutationCache.config.onMutate==null||t.mutationCache.config.onMutate(t.state.variables,t)}).then(function(){return t.options.onMutate==null?void 0:t.options.onMutate(t.state.variables)}).then(function(u){u!==t.state.context&&t.dispatch({type:"loading",context:u,variables:t.state.variables})})),a.then(function(){return t.executeMutation()}).then(function(u){e=u,t.mutationCache.config.onSuccess==null||t.mutationCache.config.onSuccess(e,t.state.variables,t.state.context,t)}).then(function(){return t.options.onSuccess==null?void 0:t.options.onSuccess(e,t.state.variables,t.state.context)}).then(function(){return t.options.onSettled==null?void 0:t.options.onSettled(e,null,t.state.variables,t.state.context)}).then(function(){return t.dispatch({type:"success",data:e}),e}).catch(function(u){return t.mutationCache.config.onError==null||t.mutationCache.config.onError(u,t.state.variables,t.state.context,t),tt().error(u),Promise.resolve().then(function(){return t.options.onError==null?void 0:t.options.onError(u,t.state.variables,t.state.context)}).then(function(){return t.options.onSettled==null?void 0:t.options.onSettled(void 0,u,t.state.variables,t.state.context)}).then(function(){throw t.dispatch({type:"error",error:u}),u})})},i.executeMutation=function(){var t=this,e;return this.retryer=new Ot({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:(e=this.options.retry)!=null?e:0,retryDelay:this.options.retryDelay}),this.retryer.promise},i.dispatch=function(t){var e=this;this.state=Ht(this.state,t),b.batch(function(){e.observers.forEach(function(n){n.onMutationUpdate(t)}),e.mutationCache.notify(e)})},s}();function Rt(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Ht(s,i){switch(i.type){case"failed":return p({},s,{failureCount:s.failureCount+1});case"pause":return p({},s,{isPaused:!0});case"continue":return p({},s,{isPaused:!1});case"loading":return p({},s,{context:i.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:i.variables});case"success":return p({},s,{data:i.data,error:null,status:"success",isPaused:!1});case"error":return p({},s,{data:void 0,error:i.error,failureCount:s.failureCount+1,isPaused:!1,status:"error"});case"setState":return p({},s,i.state);default:return s}}var kt=function(s){T(i,s);function i(t){var e;return e=s.call(this)||this,e.config=t||{},e.mutations=[],e.mutationId=0,e}var r=i.prototype;return r.build=function(e,n,a){var u=new Bt({mutationCache:this,mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:a,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0,meta:n.meta});return this.add(u),u},r.add=function(e){this.mutations.push(e),this.notify(e)},r.remove=function(e){this.mutations=this.mutations.filter(function(n){return n!==e}),e.cancel(),this.notify(e)},r.clear=function(){var e=this;b.batch(function(){e.mutations.forEach(function(n){e.remove(n)})})},r.getAll=function(){return this.mutations},r.find=function(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(function(n){return ct(e,n)})},r.findAll=function(e){return this.mutations.filter(function(n){return ct(e,n)})},r.notify=function(e){var n=this;b.batch(function(){n.listeners.forEach(function(a){a(e)})})},r.onFocus=function(){this.resumePausedMutations()},r.onOnline=function(){this.resumePausedMutations()},r.resumePausedMutations=function(){var e=this.mutations.filter(function(n){return n.state.isPaused});return b.batch(function(){return e.reduce(function(n,a){return n.then(function(){return a.continue().catch(F)})},Promise.resolve())})},i}(K);function Gt(){return{onFetch:function(i){i.fetchFn=function(){var r,t,e,n,a,u,o=(r=i.fetchOptions)==null||(t=r.meta)==null?void 0:t.refetchPage,c=(e=i.fetchOptions)==null||(n=e.meta)==null?void 0:n.fetchMore,l=c==null?void 0:c.pageParam,v=(c==null?void 0:c.direction)==="forward",d=(c==null?void 0:c.direction)==="backward",f=((a=i.state.data)==null?void 0:a.pages)||[],h=((u=i.state.data)==null?void 0:u.pageParams)||[],m=bt(),Q=m==null?void 0:m.signal,R=h,O=!1,y=i.options.queryFn||function(){return Promise.reject("Missing queryFn")},q=function(M,I,S,L){return R=L?[I].concat(R):[].concat(R,[I]),L?[S].concat(M):[].concat(M,[S])},E=function(M,I,S,L){if(O)return Promise.reject("Cancelled");if(typeof S>"u"&&!I&&M.length)return Promise.resolve(M);var _={queryKey:i.queryKey,signal:Q,pageParam:S,meta:i.meta},x=y(_),k=Promise.resolve(x).then(function(Et){return q(M,S,Et,L)});if(z(x)){var nt=k;nt.cancel=x.cancel}return k},g;if(!f.length)g=E([]);else if(v){var $=typeof l<"u",et=$?l:ht(i.options,f);g=E(f,$,et)}else if(d){var B=typeof l<"u",P=B?l:Vt(i.options,f);g=E(f,B,P,!0)}else(function(){R=[];var D=typeof i.options.getNextPageParam>"u",M=o&&f[0]?o(f[0],0,f):!0;g=M?E([],D,h[0]):Promise.resolve(q([],h[0],f[0]));for(var I=function(_){g=g.then(function(x){var k=o&&f[_]?o(f[_],_,f):!0;if(k){var nt=D?h[_]:ht(i.options,x);return E(x,D,nt)}return Promise.resolve(q(x,h[_],f[_]))})},S=1;S<f.length;S++)I(S)})();var H=g.then(function(D){return{pages:D,pageParams:R}}),A=H;return A.cancel=function(){O=!0,m==null||m.abort(),z(g)&&g.cancel()},H}}}}function ht(s,i){return s.getNextPageParam==null?void 0:s.getNextPageParam(i[i.length-1],i)}function Vt(s,i){return s.getPreviousPageParam==null?void 0:s.getPreviousPageParam(i[0],i)}var ue=function(){function s(r){r===void 0&&(r={}),this.queryCache=r.queryCache||new jt,this.mutationCache=r.mutationCache||new kt,this.defaultOptions=r.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var i=s.prototype;return i.mount=function(){var t=this;this.unsubscribeFocus=N.subscribe(function(){N.isFocused()&&V.isOnline()&&(t.mutationCache.onFocus(),t.queryCache.onFocus())}),this.unsubscribeOnline=V.subscribe(function(){N.isFocused()&&V.isOnline()&&(t.mutationCache.onOnline(),t.queryCache.onOnline())})},i.unmount=function(){var t,e;(t=this.unsubscribeFocus)==null||t.call(this),(e=this.unsubscribeOnline)==null||e.call(this)},i.isFetching=function(t,e){var n=w(t,e),a=n[0];return a.fetching=!0,this.queryCache.findAll(a).length},i.isMutating=function(t){return this.mutationCache.findAll(p({},t,{fetching:!0})).length},i.getQueryData=function(t,e){var n;return(n=this.queryCache.find(t,e))==null?void 0:n.state.data},i.getQueriesData=function(t){return this.getQueryCache().findAll(t).map(function(e){var n=e.queryKey,a=e.state,u=a.data;return[n,u]})},i.setQueryData=function(t,e,n){var a=G(t),u=this.defaultQueryOptions(a);return this.queryCache.build(this,u).setData(e,n)},i.setQueriesData=function(t,e,n){var a=this;return b.batch(function(){return a.getQueryCache().findAll(t).map(function(u){var o=u.queryKey;return[o,a.setQueryData(o,e,n)]})})},i.getQueryState=function(t,e){var n;return(n=this.queryCache.find(t,e))==null?void 0:n.state},i.removeQueries=function(t,e){var n=w(t,e),a=n[0],u=this.queryCache;b.batch(function(){u.findAll(a).forEach(function(o){u.remove(o)})})},i.resetQueries=function(t,e,n){var a=this,u=w(t,e,n),o=u[0],c=u[1],l=this.queryCache,v=p({},o,{active:!0});return b.batch(function(){return l.findAll(o).forEach(function(d){d.reset()}),a.refetchQueries(v,c)})},i.cancelQueries=function(t,e,n){var a=this,u=w(t,e,n),o=u[0],c=u[1],l=c===void 0?{}:c;typeof l.revert>"u"&&(l.revert=!0);var v=b.batch(function(){return a.queryCache.findAll(o).map(function(d){return d.cancel(l)})});return Promise.all(v).then(F).catch(F)},i.invalidateQueries=function(t,e,n){var a,u,o,c=this,l=w(t,e,n),v=l[0],d=l[1],f=p({},v,{active:(a=(u=v.refetchActive)!=null?u:v.active)!=null?a:!0,inactive:(o=v.refetchInactive)!=null?o:!1});return b.batch(function(){return c.queryCache.findAll(v).forEach(function(h){h.invalidate()}),c.refetchQueries(f,d)})},i.refetchQueries=function(t,e,n){var a=this,u=w(t,e,n),o=u[0],c=u[1],l=b.batch(function(){return a.queryCache.findAll(o).map(function(d){return d.fetch(void 0,p({},c,{meta:{refetchPage:o==null?void 0:o.refetchPage}}))})}),v=Promise.all(l).then(F);return c!=null&&c.throwOnError||(v=v.catch(F)),v},i.fetchQuery=function(t,e,n){var a=G(t,e,n),u=this.defaultQueryOptions(a);typeof u.retry>"u"&&(u.retry=!1);var o=this.queryCache.build(this,u);return o.isStaleByTime(u.staleTime)?o.fetch(u):Promise.resolve(o.state.data)},i.prefetchQuery=function(t,e,n){return this.fetchQuery(t,e,n).then(F).catch(F)},i.fetchInfiniteQuery=function(t,e,n){var a=G(t,e,n);return a.behavior=Gt(),this.fetchQuery(a)},i.prefetchInfiniteQuery=function(t,e,n){return this.fetchInfiniteQuery(t,e,n).then(F).catch(F)},i.cancelMutations=function(){var t=this,e=b.batch(function(){return t.mutationCache.getAll().map(function(n){return n.cancel()})});return Promise.all(e).then(F).catch(F)},i.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},i.executeMutation=function(t){return this.mutationCache.build(this,t).execute()},i.getQueryCache=function(){return this.queryCache},i.getMutationCache=function(){return this.mutationCache},i.getDefaultOptions=function(){return this.defaultOptions},i.setDefaultOptions=function(t){this.defaultOptions=t},i.setQueryDefaults=function(t,e){var n=this.queryDefaults.find(function(a){return U(t)===U(a.queryKey)});n?n.defaultOptions=e:this.queryDefaults.push({queryKey:t,defaultOptions:e})},i.getQueryDefaults=function(t){var e;return t?(e=this.queryDefaults.find(function(n){return Y(t,n.queryKey)}))==null?void 0:e.defaultOptions:void 0},i.setMutationDefaults=function(t,e){var n=this.mutationDefaults.find(function(a){return U(t)===U(a.mutationKey)});n?n.defaultOptions=e:this.mutationDefaults.push({mutationKey:t,defaultOptions:e})},i.getMutationDefaults=function(t){var e;return t?(e=this.mutationDefaults.find(function(n){return Y(t,n.mutationKey)}))==null?void 0:e.defaultOptions:void 0},i.defaultQueryOptions=function(t){if(t!=null&&t._defaulted)return t;var e=p({},this.defaultOptions.queries,this.getQueryDefaults(t==null?void 0:t.queryKey),t,{_defaulted:!0});return!e.queryHash&&e.queryKey&&(e.queryHash=ut(e.queryKey,e)),e},i.defaultQueryObserverOptions=function(t){return this.defaultQueryOptions(t)},i.defaultMutationOptions=function(t){return t!=null&&t._defaulted?t:p({},this.defaultOptions.mutations,this.getMutationDefaults(t==null?void 0:t.mutationKey),t,{_defaulted:!0})},i.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},s}(),Wt=function(s){T(i,s);function i(t,e){var n;return n=s.call(this)||this,n.client=t,n.options=e,n.trackedProps=[],n.selectError=null,n.bindMethods(),n.setOptions(e),n}var r=i.prototype;return r.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},r.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),dt(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},r.onUnsubscribe=function(){this.listeners.length||this.destroy()},r.shouldFetchOnReconnect=function(){return st(this.currentQuery,this.options,this.options.refetchOnReconnect)},r.shouldFetchOnWindowFocus=function(){return st(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},r.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},r.setOptions=function(e,n){var a=this.options,u=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=a.queryKey),this.updateQuery();var o=this.hasListeners();o&&vt(this.currentQuery,u,this.options,a)&&this.executeFetch(),this.updateResult(n),o&&(this.currentQuery!==u||this.options.enabled!==a.enabled||this.options.staleTime!==a.staleTime)&&this.updateStaleTimeout();var c=this.computeRefetchInterval();o&&(this.currentQuery!==u||this.options.enabled!==a.enabled||c!==this.currentRefetchInterval)&&this.updateRefetchInterval(c)},r.getOptimisticResult=function(e){var n=this.client.defaultQueryObserverOptions(e),a=this.client.getQueryCache().build(this.client,n);return this.createResult(a,n)},r.getCurrentResult=function(){return this.currentResult},r.trackResult=function(e,n){var a=this,u={},o=function(l){a.trackedProps.includes(l)||a.trackedProps.push(l)};return Object.keys(e).forEach(function(c){Object.defineProperty(u,c,{configurable:!1,enumerable:!0,get:function(){return o(c),e[c]}})}),(n.useErrorBoundary||n.suspense)&&o("error"),u},r.getNextResult=function(e){var n=this;return new Promise(function(a,u){var o=n.subscribe(function(c){c.isFetching||(o(),c.isError&&(e!=null&&e.throwOnError)?u(c.error):a(c))})})},r.getCurrentQuery=function(){return this.currentQuery},r.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},r.refetch=function(e){return this.fetch(p({},e,{meta:{refetchPage:e==null?void 0:e.refetchPage}}))},r.fetchOptimistic=function(e){var n=this,a=this.client.defaultQueryObserverOptions(e),u=this.client.getQueryCache().build(this.client,a);return u.fetch().then(function(){return n.createResult(u,a)})},r.fetch=function(e){var n=this;return this.executeFetch(e).then(function(){return n.updateResult(),n.currentResult})},r.executeFetch=function(e){this.updateQuery();var n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(F)),n},r.updateStaleTimeout=function(){var e=this;if(this.clearStaleTimeout(),!(J||this.currentResult.isStale||!rt(this.options.staleTime))){var n=yt(this.currentResult.dataUpdatedAt,this.options.staleTime),a=n+1;this.staleTimeoutId=setTimeout(function(){e.currentResult.isStale||e.updateResult()},a)}},r.computeRefetchInterval=function(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1},r.updateRefetchInterval=function(e){var n=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!(J||this.options.enabled===!1||!rt(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(n.options.refetchIntervalInBackground||N.isFocused())&&n.executeFetch()},this.currentRefetchInterval))},r.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},r.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},r.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},r.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},r.createResult=function(e,n){var a=this.currentQuery,u=this.options,o=this.currentResult,c=this.currentResultState,l=this.currentResultOptions,v=e!==a,d=v?e.state:this.currentQueryInitialState,f=v?this.currentResult:this.previousQueryResult,h=e.state,m=h.dataUpdatedAt,Q=h.error,R=h.errorUpdatedAt,O=h.isFetching,y=h.status,q=!1,E=!1,g;if(n.optimisticResults){var $=this.hasListeners(),et=!$&&dt(e,n),B=$&&vt(e,a,n,u);(et||B)&&(O=!0,m||(y="loading"))}if(n.keepPreviousData&&!h.dataUpdateCount&&(f!=null&&f.isSuccess)&&y!=="error")g=f.data,m=f.dataUpdatedAt,y=f.status,q=!0;else if(n.select&&typeof h.data<"u")if(o&&h.data===(c==null?void 0:c.data)&&n.select===this.selectFn)g=this.selectResult;else try{this.selectFn=n.select,g=n.select(h.data),n.structuralSharing!==!1&&(g=Z(o==null?void 0:o.data,g)),this.selectResult=g,this.selectError=null}catch(A){tt().error(A),this.selectError=A}else g=h.data;if(typeof n.placeholderData<"u"&&typeof g>"u"&&(y==="loading"||y==="idle")){var P;if(o!=null&&o.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))P=o.data;else if(P=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof P<"u")try{P=n.select(P),n.structuralSharing!==!1&&(P=Z(o==null?void 0:o.data,P)),this.selectError=null}catch(A){tt().error(A),this.selectError=A}typeof P<"u"&&(y="success",g=P,E=!0)}this.selectError&&(Q=this.selectError,g=this.selectResult,R=Date.now(),y="error");var H={status:y,isLoading:y==="loading",isSuccess:y==="success",isError:y==="error",isIdle:y==="idle",data:g,dataUpdatedAt:m,error:Q,errorUpdatedAt:R,failureCount:h.fetchFailureCount,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:O,isRefetching:O&&y!=="loading",isLoadingError:y==="error"&&h.dataUpdatedAt===0,isPlaceholderData:E,isPreviousData:q,isRefetchError:y==="error"&&h.dataUpdatedAt!==0,isStale:at(e,n),refetch:this.refetch,remove:this.remove};return H},r.shouldNotifyListeners=function(e,n){if(!n)return!0;var a=this.options,u=a.notifyOnChangeProps,o=a.notifyOnChangePropsExclusions;if(!u&&!o||u==="tracked"&&!this.trackedProps.length)return!0;var c=u==="tracked"?this.trackedProps:u;return Object.keys(e).some(function(l){var v=l,d=e[v]!==n[v],f=c==null?void 0:c.some(function(m){return m===l}),h=o==null?void 0:o.some(function(m){return m===l});return d&&!h&&(!c||f)})},r.updateResult=function(e){var n=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!xt(this.currentResult,n)){var a={cache:!0};(e==null?void 0:e.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,n)&&(a.listeners=!0),this.notify(p({},a,e))}},r.updateQuery=function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))}},r.onQueryUpdate=function(e){var n={};e.type==="success"?n.onSuccess=!0:e.type==="error"&&!W(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()},r.notify=function(e){var n=this;b.batch(function(){e.onSuccess?(n.options.onSuccess==null||n.options.onSuccess(n.currentResult.data),n.options.onSettled==null||n.options.onSettled(n.currentResult.data,null)):e.onError&&(n.options.onError==null||n.options.onError(n.currentResult.error),n.options.onSettled==null||n.options.onSettled(void 0,n.currentResult.error)),e.listeners&&n.listeners.forEach(function(a){a(n.currentResult)}),e.cache&&n.client.getQueryCache().notify({query:n.currentQuery,type:"observerResultsUpdated"})})},i}(K);function Jt(s,i){return i.enabled!==!1&&!s.state.dataUpdatedAt&&!(s.state.status==="error"&&i.retryOnMount===!1)}function dt(s,i){return Jt(s,i)||s.state.dataUpdatedAt>0&&st(s,i,i.refetchOnMount)}function st(s,i,r){if(i.enabled!==!1){var t=typeof r=="function"?r(s):r;return t==="always"||t!==!1&&at(s,i)}return!1}function vt(s,i,r,t){return r.enabled!==!1&&(s!==i||t.enabled===!1)&&(!r.suspense||s.state.status!=="error")&&at(s,r)}function at(s,i){return s.isStaleByTime(i.staleTime)}var Xt=function(s){T(i,s);function i(t,e){var n;return n=s.call(this)||this,n.client=t,n.setOptions(e),n.bindMethods(),n.updateResult(),n}var r=i.prototype;return r.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},r.setOptions=function(e){this.options=this.client.defaultMutationOptions(e)},r.onUnsubscribe=function(){if(!this.listeners.length){var e;(e=this.currentMutation)==null||e.removeObserver(this)}},r.onMutationUpdate=function(e){this.updateResult();var n={listeners:!0};e.type==="success"?n.onSuccess=!0:e.type==="error"&&(n.onError=!0),this.notify(n)},r.getCurrentResult=function(){return this.currentResult},r.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},r.mutate=function(e,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,p({},this.options,{variables:typeof e<"u"?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},r.updateResult=function(){var e=this.currentMutation?this.currentMutation.state:Rt(),n=p({},e,{isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=n},r.notify=function(e){var n=this;b.batch(function(){n.mutateOptions&&(e.onSuccess?(n.mutateOptions.onSuccess==null||n.mutateOptions.onSuccess(n.currentResult.data,n.currentResult.variables,n.currentResult.context),n.mutateOptions.onSettled==null||n.mutateOptions.onSettled(n.currentResult.data,null,n.currentResult.variables,n.currentResult.context)):e.onError&&(n.mutateOptions.onError==null||n.mutateOptions.onError(n.currentResult.error,n.currentResult.variables,n.currentResult.context),n.mutateOptions.onSettled==null||n.mutateOptions.onSettled(void 0,n.currentResult.error,n.currentResult.variables,n.currentResult.context))),e.listeners&&n.listeners.forEach(function(a){a(n.currentResult)})})},i}(K),Yt=Mt.unstable_batchedUpdates;b.setBatchNotifyFunction(Yt);var Zt=console;Lt(Zt);var pt=C.createContext(void 0),Ft=C.createContext(!1);function Qt(s){return s&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=pt),window.ReactQueryClientContext):pt}var Pt=function(){var i=C.useContext(Qt(C.useContext(Ft)));if(!i)throw new Error("No QueryClient set, use QueryClientProvider to set one");return i},ae=function(i){var r=i.client,t=i.contextSharing,e=t===void 0?!1:t,n=i.children;C.useEffect(function(){return r.mount(),function(){r.unmount()}},[r]);var a=Qt(e);return C.createElement(Ft.Provider,{value:e},C.createElement(a.Provider,{value:r},n))};function zt(){var s=!1;return{clearReset:function(){s=!1},reset:function(){s=!0},isReset:function(){return s}}}var te=C.createContext(zt()),ee=function(){return C.useContext(te)};function St(s,i,r){return typeof i=="function"?i.apply(void 0,r):typeof i=="boolean"?i:!!s}function oe(s,i,r){var t=C.useRef(!1),e=C.useState(0),n=e[1],a=wt(s,i,r),u=Pt(),o=C.useRef();o.current?o.current.setOptions(a):o.current=new Xt(u,a);var c=o.current.getCurrentResult();C.useEffect(function(){t.current=!0;var v=o.current.subscribe(b.batchCalls(function(){t.current&&n(function(d){return d+1})}));return function(){t.current=!1,v()}},[]);var l=C.useCallback(function(v,d){o.current.mutate(v,d).catch(F)},[]);if(c.error&&St(void 0,o.current.options.useErrorBoundary,[c.error]))throw c.error;return p({},c,{mutate:l,mutateAsync:c.mutate})}function ne(s,i){var r=C.useRef(!1),t=C.useState(0),e=t[1],n=Pt(),a=ee(),u=n.defaultQueryObserverOptions(s);u.optimisticResults=!0,u.onError&&(u.onError=b.batchCalls(u.onError)),u.onSuccess&&(u.onSuccess=b.batchCalls(u.onSuccess)),u.onSettled&&(u.onSettled=b.batchCalls(u.onSettled)),u.suspense&&(typeof u.staleTime!="number"&&(u.staleTime=1e3),u.cacheTime===0&&(u.cacheTime=1)),(u.suspense||u.useErrorBoundary)&&(a.isReset()||(u.retryOnMount=!1));var o=C.useState(function(){return new i(n,u)}),c=o[0],l=c.getOptimisticResult(u);if(C.useEffect(function(){r.current=!0,a.clearReset();var v=c.subscribe(b.batchCalls(function(){r.current&&e(function(d){return d+1})}));return c.updateResult(),function(){r.current=!1,v()}},[a,c]),C.useEffect(function(){c.setOptions(u,{listeners:!1})},[u,c]),u.suspense&&l.isLoading)throw c.fetchOptimistic(u).then(function(v){var d=v.data;u.onSuccess==null||u.onSuccess(d),u.onSettled==null||u.onSettled(d,null)}).catch(function(v){a.clearReset(),u.onError==null||u.onError(v),u.onSettled==null||u.onSettled(void 0,v)});if(l.isError&&!a.isReset()&&!l.isFetching&&St(u.suspense,u.useErrorBoundary,[l.error,c.getCurrentQuery()]))throw l.error;return u.notifyOnChangeProps==="tracked"&&(l=c.trackResult(l,u)),l}function ce(s,i,r){var t=G(s,i,r);return ne(t,Wt)}var qt={exports:{}};qt.exports={ReactQueryDevtools:function(){return null},ReactQueryDevtoolsPanel:function(){return null}};var le=qt.exports;export{ue as Q,ce as a,ae as b,le as d,oe as u};
